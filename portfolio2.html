<!DOCTYPE html>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- CSS only -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-3.6.0.slim.js"
integrity="sha256-HwWONEZrpuoh951cQD1ov2HUK5zA5DwJ1DNUXaM6FsY="
crossorigin="anonymous"></script>
<script src = "js/script.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha512-mhbv5DqBMgrWL+32MmsDOt/OAvqr/cHimk6B8y/bx/xS88MVkYGPiVv2ixKVrkywF2qHplNRUvFsAHUdxZ3Krg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>


<link href="css/style.css" rel="stylesheet">
<body>

<nav class="navbar navbar-expand-lg fixed navbar-light  bg-white">
  <div class="container-fluid px-2 ">
    <a href="#" class="navbar-brand logo-sc">Studio Chintala</a>
    <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbarCollapse">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="  collapse navbar-collapse " id="navbarCollapse">
      <ul class="navbar-nav d-flex  w-50 justify-content-between ms-auto">


    <li class="nav-item">
<a href ="#" class="nav-link">Work</a>

<div class="d-flex flex-column bg-white px-2" style="position:absolute;">

<!--
<a class="filter_list flex-item sub-nav  active" data-filter = "all">All</a>
<a class="filter_list flex-item sub-nav " data-filter = "architecture">Architecture</a>
<a class="filter_list flex-item sub-nav " data-filter = "objects">Objects</a>
<a class="filter_list flex-item sub-nav " data-filter = "interior">Interior</a>
<a class="filter_list flex-item sub-nav " data-filter = "branding">Branding</a>
<a class="filter_list flex-item sub-nav " data-filter = "research">Research</a>
<a class="filter_list flex-item sub-nav " href="archive.html">Archive</a> -->

<!-- <a class="flex-item sub-nav">All</a>
<a class="flex-item sub-nav">Architecture</a>
<a class="flex-item sub-nav">Interiors</a>
<a class="flex-item sub-nav">Objects</a>
   <div class="dropdown-divider"></div>
   <a class="flex-item sub-nav">Archive</a> -->






</div>

</li>



<li class="nav-item">
  <a href="#" class=" nav-link ">Studio</a>
</li>

<li class="nav-item">
  <a href="#" class=" nav-link ">Contact</a>
 </li>



    <li class="nav-item">
      <form class="nav-item nav-link " style="margin-bottom:0px; text-align:right;">	<input type="text" name="keyword" id="myInput" class="flex-item input-sm" placeholder="Search.." onblur="this.placeholder = 'Search" > <button id="clearbutton" class="clearbutton" type="button" value="close" onclick="this.form.reset();  mysearch(); myunmark(); $('.clearbutton').hide(); " style="border:0px;">  <span id="bb" > clear</span></form>



</l

      </ul>

    </div>
  </div>
</nav>

<div class ="container-fluid slider_container">

  <div class =" prevnext d-flex row justify-content-between align-items-center">

  <div class="prev_button" class="prev" alt="Prev">prev</div>
   <div class="next_button" class="next" alt="Next">next</div>

    </div>

<div class = "slider-outer ">

  <div class="slider_inner">
    <div class ="slide ">
    <img src ="img/slide/2.jpeg" />

    </div>

    <div class ="slide active" >
    <img src ="img/slide/1.jpeg" />

  </div>


    <div class ="slide" >
    <img src ="img/slide/3.jpeg" />
    <!-- <caption class="hide_caption">

      </caption> -->
  </div>
  <div class ="slide">
    <img src ="img/slide/4.jpeg" class=""/>

  </div>
    </div>


  </div>
  </div>
  <div class ="footer_desc">
    <p>dsfgdgd</p>
    </div>

</body>

<style>

.footer_desc {

  padding:1%;
  border:1px solid green;
}

.slider-outer {
  border:1px solid green;
}


.slider_inner {
  border:1px solid red;
}



  html {

    height:100vh;
  }

  <!-- .slider_container {
    height: 80%;
  } -->

  .slider_inner {
    position :relative;

    margin:0 auto;

  }

  .prevnext {
    position:absolute;
    height:100%;
    width:100%;

  }

  .slide{

  max-width:100%;
  display:none;

  margin: 0 auto;

 position:relative;

  }

  .slide img{

position:relative;
margin:0 auto;
width:100%;
display:block;
  }





  .slide.active {


  display:block;

  }

  .prev_button, .next_button {
    float:left;
      }

      .prev_button {

        z-index:100;
        height:80%;
        width:30%;
        background-color: rgba(0,0,0,0);
      }

      .next_button {

        z-index:100;
        height:80%;
        width:30%;
            background-color: rgba(0,0,0,0);
      }

  </style>


  <script>



    let final_image_width;

    $(document).ready(function(){

  resize_portfolio();

    $('.next_button').on('click', function(){



    var currentSlide =  $('.active');
    var nextSlide = currentSlide.next();

    if(nextSlide.length) {


      currentSlide.removeClass('active').css({"z-index": -10, "opacity": 0});
        nextSlide.addClass('active').css({"z-index": +10, "opacity": 1});
    }

    else {
      currentSlide.removeClass('active').css({"z-index": -10, "opacity": 0});
      $('.slide').first().addClass('active').css({"z-index": +10, "opacity": 1});

    }

    resize_portfolio();

    });


    $('.prev_button').on('click', function(){



    var currentSlide =  $('.active');
    var prevSlide = currentSlide.prev();

    if(prevSlide.length) {

      currentSlide.removeClass('active').css({"z-index": -10, "opacity": 0});
        prevSlide.addClass('active').css({"z-index": +10, "opacity": 1});
    }

    else {
      currentSlide.removeClass('active').css({"z-index": -10, "opacity": 0});
      $(".slide").last().addClass('active').css({"z-index": +10, "opacity": 1});
    }


      resize_portfolio();
    });




  });

  $( window ).resize(function() {
    resize_portfolio();
  });


    function resize_portfolio () {


      var image_width = $(".active img").get(0).naturalWidth;
        var image_height = $(".active img").get(0).naturalHeight;


        var image_h_ratio = image_height / image_width;
        var image_w_ratio = image_width/ image_height;
        console.log(image_width);
        console.log(image_height);
        console.log('W_ratio ' + image_w_ratio);

      var html_height = $('html').outerHeight();
      console.log(html_height);
      var nav_height = $('nav').outerHeight();
      var footer_height = $('.footer_desc').outerHeight();
    console.log(nav_height);
    console.log(footer_height);
    var slider_container_width = $('.slider_inner').width();
    // var image_container_height = $('.active img').height();



var slider_container_height = html_height - nav_height - footer_height;
var slider_container_height_px =  slider_container_height  + "px";


console.log('slider_height' + slider_container_height_px);
    console.log('slider_container_width - ' + slider_container_width);

  $(".slider_container").css({"height": slider_container_height_px});
  $(".slider-outer").css({"height": slider_container_height_px});
  $(".slider_inner").css({"height": slider_container_height_px});
  $(".slide").css({"height": slider_container_height_px});
    // $(".slide img").css({"height": slider_container_height_px, "opacity": 1});

    var slider_inner_height = $('.slider_inner').height();
      console.log('slider_inner_height///// ' + slider_inner_height);

    if(image_w_ratio >= 1) {
      $(".slide img").css({ "top": 0});

  $(".slide img").css({"width": '100%', "height": 'auto'});


    var final_image_width = slider_container_height * image_w_ratio;

    console.log('image_container_width - ' + final_image_width);

    if (final_image_width < slider_container_width) {
        $(".slide img").css({ "top": 0});
      $(".active img").css({"width": final_image_width + "px"});

    }

    else if (final_image_width >= slider_container_width)
     {
var image_container_height = $('.active img').height();

      top_space = (slider_container_height - image_container_height)/2 + 'px';
      $(".active img").css({ "top": top_space});
console.log('image_container_height /////' + image_container_height);
console.log('top space////////' + top_space);


        // $(".active").css({"width": final_image_width + "px", "opacity": 1});


    }

    }


    else if(image_w_ratio < 1) {

  $(".slide img").css({"height": '100%', "width": 'auto'});

    }
}



</script>
